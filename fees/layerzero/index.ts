import { CHAIN } from "../../helpers/chains";
import { FetchOptions, SimpleAdapter } from "../../adapters/types";
import { nullAddress } from "../../helpers/token";

const LAYERZERO_SEND_ULN_CONTRACT = {
    [CHAIN.ABSTRACT]: "0x166CAb679EBDB0853055522D3B523621b94029a1",
    //[CHAIN.ANIMECHAIN]:"0xC39161c743D0307EB9BCc9FEF03eeb9Dc4802de7",
    [CHAIN.APECHAIN]: "0xC39161c743D0307EB9BCc9FEF03eeb9Dc4802de7",
    //[CHAIN.APEX_FUSION]: "0xC39161c743D0307EB9BCc9FEF03eeb9Dc4802de7",
    [CHAIN.ARBITRUM]: "0x975bcD720be66659e3EB3C0e4F1866a3020E493A",
    [CHAIN.ARBITRUM_NOVA]: "0xef32f931ac53808e695B7eF3D1b6C5016024a68f",
    [CHAIN.ASTAR]: "0x30C3074669d866933db74DF1Fbe4b3703e6ec139",
    // [CHAIN.ASTAR_ZKEVM]: "0x2367325334447C5E1E0f1b3a6fB947b262F58312",
    [CHAIN.AVAX]: "0x197D1333DEA5Fe0D6600E9b396c7f1B1cFCc558a",
    [CHAIN.BSC]: "0x9F8C645f2D0b2159767Bd6E0839DE4BE49e823DE",
    [CHAIN.BOB]: "0xC39161c743D0307EB9BCc9FEF03eeb9Dc4802de7",
    [CHAIN.BAHAMUT]: "0xC39161c743D0307EB9BCc9FEF03eeb9Dc4802de7",
    [CHAIN.BASE]: "0xB5320B0B3a13cC860893E2Bd79FCd7e13484Dda2",
    //[CHAIN.BEAM]: "0x763BfcE1Ed335885D0EeC1F182fE6E6B85BAbC92",
    [CHAIN.BERACHAIN]: "0xC39161c743D0307EB9BCc9FEF03eeb9Dc4802de7",
    //[CHAIN.BEVM]:"0xe1844c5D63a9543023008D332Bd3d2e6f1FE1043",
    [CHAIN.BITLAYER]: "0xC39161c743D0307EB9BCc9FEF03eeb9Dc4802de7",
    [CHAIN.BLAST]: "0xc1B621b18187F74c8F6D52a6F709Dd2780C09821",
    [CHAIN.BOTANIX]: "0xC39161c743D0307EB9BCc9FEF03eeb9Dc4802de7",
    // [CHAIN.BOUNCE_BIT]: "0xe1844c5D63a9543023008D332Bd3d2e6f1FE1043",
    [CHAIN.CANTO]: "0x61Ab01Ce58D1dFf3562bb25870020d555e39D849",
    [CHAIN.CELO]: "0x42b4E9C6495B4cFDaE024B1eC32E09F28027620e",
    // [CHAIN.CODEX]:"0xe1844c5D63a9543023008D332Bd3d2e6f1FE1043",
    // [CHAIN.CONCRETE]:"0xe1844c5D63a9543023008D332Bd3d2e6f1FE1043",
    [CHAIN.CONFLUX]: "0xb360A579Dc6f77d6a3E8710A9d983811129C428d",
    [CHAIN.CORE]: "0x0BcAC336466ef7F1e0b5c184aAB2867C108331aF",
    [CHAIN.CORN]: "0xe1844c5D63a9543023008D332Bd3d2e6f1FE1043",
    [CHAIN.CRONOS]: "0x2367325334447C5E1E0f1b3a6fB947b262F58312",
    [CHAIN.CRONOS_ZKEVM]: "0x01047601DB5E63b1574aae317BAd9C684E3C9056",
    // [CHAIN.CYBER]:"0xC39161c743D0307EB9BCc9FEF03eeb9Dc4802de7",
   // [CHAIN.DFK]: "0xc80233AD8251E668BecbC3B0415707fC7075501e",
    // [CHAIN.DM2_VERSE]:"0xC39161c743D0307EB9BCc9FEF03eeb9Dc4802de7",
    // [CHAIN.DOS]:"0x72C91c46d7033dfF1707091Ef32D4951a73bD099",
    //[CHAIN.DEGEN]:"0xC39161c743D0307EB9BCc9FEF03eeb9Dc4802de7",
    [CHAIN.DEXALOT]: "0x439C059878fA7A747ead101e2e20A65AcA01C7A8",
    //[CHAIN.EDUCHAIN]:"0x2367325334447C5E1E0f1b3a6fB947b262F58312",
    [CHAIN.FLOW]: "0xe1844c5D63a9543023008D332Bd3d2e6f1FE1043",
    [CHAIN.ETHEREUM]: "0xbB2Ea70C9E858123480642Cf96acbcCE1372dCe1",
    [CHAIN.ETHERLINK]: "0xc1B621b18187F74c8F6D52a6F709Dd2780C09821",
    [CHAIN.FANTOM]: "0xC17BaBeF02a937093363220b0FB57De04A535D5E",
    [CHAIN.FLARE]: "0xe1844c5D63a9543023008D332Bd3d2e6f1FE1043",
    [CHAIN.FRAXTAL]: "0x377530cdA84DFb2673bF4d145DCF0C4D7fdcB5b6",
    [CHAIN.FUSE]: "0x2762409Baa1804D94D8c0bCFF8400B78Bf915D5B",
    //[CHAIN.GLUE]: "0x15e51701F245F6D5bd0FEE87bCAf55B0841451B3",
    [CHAIN.XDAI]: "0x3C156b1f625D2B4E004D43E91aC2c3a719C29c7B",
    [CHAIN.GOAT]: "0xC39161c743D0307EB9BCc9FEF03eeb9Dc4802de7",
    [CHAIN.GRAVITY]: "0xe1844c5D63a9543023008D332Bd3d2e6f1FE1043",
    //[CHAIN.GUNZ]: "0xe1844c5D63a9543023008D332Bd3d2e6f1FE1043",
    [CHAIN.HARMONY]: "0x795F8325aF292Ff6E58249361d1954893BE15Aff",
    [CHAIN.HEDERA]: "0x2367325334447C5E1E0f1b3a6fB947b262F58312",
    [CHAIN.HEMI]: "0xC39161c743D0307EB9BCc9FEF03eeb9Dc4802de7",
    // [CHAIN.HOMEVERSE]: "0x980205D352F198748B626f6f7C38A8a5663Ec981",
    [CHAIN.EON]: "0x5EB6b3Db915d29fc624b8a0e42AC029e36a1D86B",
    //[CHAIN.HUBBLE]:"0xBB967E3A329F4c47F654B82a2F7d11E69E5A7143",
    //[CHAIN.HUMANITY]:"0xC39161c743D0307EB9BCc9FEF03eeb9Dc4802de7",
    [CHAIN.HYPERLIQUID]: "0xfd76d9CB0Bac839725aB79127E7411fe71b1e3CA",
    [CHAIN.INK]: "0x76111DE813F83AAAdBD62773Bf41247634e2319a",
    [CHAIN.IOTAEVM]: "0xC39161c743D0307EB9BCc9FEF03eeb9Dc4802de7",
    //[CHAIN.JAPAN_OPEN_CHAIN]: "0xe1844c5D63a9543023008D332Bd3d2e6f1FE1043",
    [CHAIN.KLAYTN]: "0x9714Ccf1dedeF14BaB5013625DB92746C1358cb4",
    [CHAIN.KATANA]: "0xC39161c743D0307EB9BCc9FEF03eeb9Dc4802de7",
    [CHAIN.KAVA]: "0x83Fb937054918cB7AccB15bd6cD9234dF9ebb357",
    [CHAIN.LENS]: "0x01047601DB5E63b1574aae317BAd9C684E3C9056",
    //[CHAIN.LIGHTLINK_PHOENIX]: "0xC39161c743D0307EB9BCc9FEF03eeb9Dc4802de7",
    [CHAIN.LINEA]: "0x32042142DD551b4EbE17B6FEd53131dd4b4eEa06",
    [CHAIN.LISK]: "0xC39161c743D0307EB9BCc9FEF03eeb9Dc4802de7",
    //[CHAIN.LOOT]: "0xCFf08a35A5f27F306e2DA99ff198dB90f13DEF77",
    [CHAIN.LYRA]: "0xe1844c5D63a9543023008D332Bd3d2e6f1FE1043",
    [CHAIN.MANTA]: "0xD1654C656455E40E2905E96b6B91088AC2B362a2",
    [CHAIN.MANTLE]: "0xde19274c009A22921E3966a1Ec868cEba40A5DaC",
    [CHAIN.MERLIN]: "0xC39161c743D0307EB9BCc9FEF03eeb9Dc4802de7",
    [CHAIN.METER]: "0xD721315eB3d2e7e8cFDfC7d82C02a1DCe144f8E4",
    [CHAIN.METIS]: "0x63e39ccB510926d05a0ae7817c8f1CC61C5BdD6c",
    [CHAIN.MODE]: "0x2367325334447C5E1E0f1b3a6fB947b262F58312",
    [CHAIN.MOONBEAM]: "0xeac136456d078bB76f59DCcb2d5E008b31AfE1cF",
    [CHAIN.MOONRIVER]: "0x1BAcC2205312534375c8d1801C27D28370656cFf",
    [CHAIN.MORPH]: "0xC39161c743D0307EB9BCc9FEF03eeb9Dc4802de7",
    [CHAIN.NEAR]: "0x1aCe9DD1BC743aD036eF2D92Af42Ca70A1159df5",
    [CHAIN.NIBIRU]: "0xd1FA2df582C6C986Ec573e1a3B0218049CF1E5c7",
    [CHAIN.OKEXCHAIN]: "0x7807888fAC5c6f23F6EeFef0E6987DF5449C1BEb",
    [CHAIN.OPTIMISM]: "0x1322871e4ab09Bc7f5717189434f97bBD9546e95",
    [CHAIN.ORDERLY]: "0x5B23E2bAe5C5f00e804EA2C4C9abe601604378fa",
    //[CHAIN.OTHERWORLD]:"0xc1B621b18187F74c8F6D52a6F709Dd2780C09821",
    [CHAIN.PEAQ]: "0xC39161c743D0307EB9BCc9FEF03eeb9Dc4802de7",
    [CHAIN.PLUME]: "0xC39161c743D0307EB9BCc9FEF03eeb9Dc4802de7",
    [CHAIN.POLYGON]: "0x6c26c61a97006888ea9E4FA36584c7df57Cd9dA3",
    [CHAIN.POLYGON_ZKEVM]: "0x6c26c61a97006888ea9E4FA36584c7df57Cd9dA3",
    [CHAIN.RARI]: "0xA09dB5142654e3eB5Cf547D66833FAe7097B21C3",
    [CHAIN.REYA]: "0xC39161c743D0307EB9BCc9FEF03eeb9Dc4802de7",
    [CHAIN.ROOTSTOCK]: "0xe1844c5D63a9543023008D332Bd3d2e6f1FE1043",
    [CHAIN.SANKO]: "0xC39161c743D0307EB9BCc9FEF03eeb9Dc4802de7",
    [CHAIN.SCROLL]: "0x9BbEb2B2184B9313Cf5ed4a4DDFEa2ef62a2a03B",
    [CHAIN.SEI]: "0xC39161c743D0307EB9BCc9FEF03eeb9Dc4802de7",
    [CHAIN.SHIMMER_EVM]: "0xD4a903930f2c9085586cda0b11D9681EECb20D2f",
    // [CHAIN.SILICON]: "0xC39161c743D0307EB9BCc9FEF03eeb9Dc4802de7"
    [CHAIN.SKALE_EUROPA]: "0x37aaaf95887624a363effB7762D489E3C05c2a02",
    [CHAIN.SOMNIA]: "0xC39161c743D0307EB9BCc9FEF03eeb9Dc4802de7",
    [CHAIN.SONEIUM]: "0x50351C9dA75CCC6d8Ea2464B26591Bb4bd616dD5",
    [CHAIN.SONIC]: "0xC39161c743D0307EB9BCc9FEF03eeb9Dc4802de7",
    [CHAIN.SOPHON]: "0x01047601DB5E63b1574aae317BAd9C684E3C9056",
    [CHAIN.STORY]: "0x2367325334447C5E1E0f1b3a6fB947b262F58312",
    // [CHAIN.SUBTENSOR]:"0xC39161c743D0307EB9BCc9FEF03eeb9Dc4802de7",
    [CHAIN.SUPERPOSITION]: "0xC39161c743D0307EB9BCc9FEF03eeb9Dc4802de7",
    [CHAIN.SWELLCHAIN]: "0xc1B621b18187F74c8F6D52a6F709Dd2780C09821",
    [CHAIN.TAC]: "0xC39161c743D0307EB9BCc9FEF03eeb9Dc4802de7",
    [CHAIN.TAIKO]: "0xc1B621b18187F74c8F6D52a6F709Dd2780C09821",
    [CHAIN.TELOS]: "0x0BcAC336466ef7F1e0b5c184aAB2867C108331aF",
    //[CHAIN.TENET]: "0x1785c94d31E3E3Ab1079e7ca8a9fbDf33EEf9dd5",
    //[CHAIN.TILTYARD]: "0x62d142E186344C0a2445c822e356E87faF7b8288",
    [CHAIN.UNICHAIN]: "0xC39161c743D0307EB9BCc9FEF03eeb9Dc4802de7",
    [CHAIN.VANA]: "0xe1844c5D63a9543023008D332Bd3d2e6f1FE1043",
    // [CHAIN.VICTION]: "0x6f1686189f32e78f1D83e7c6Ed433FCeBc3A5B51",
    [CHAIN.WC]: "0xC39161c743D0307EB9BCc9FEF03eeb9Dc4802de7",
    [CHAIN.XLAYER]: "0xC39161c743D0307EB9BCc9FEF03eeb9Dc4802de7",
    //[CHAIN.XCHAIN]: "0xe1844c5D63a9543023008D332Bd3d2e6f1FE1043",
    [CHAIN.XDC]: "0xe1844c5D63a9543023008D332Bd3d2e6f1FE1043",
    //[CHAIN.XPLA]: "0xF622DFb40bf7340DBCf1e5147D6CFD95d7c5cF1F",
    //[CHAIN.XAI]: "0xe1844c5D63a9543023008D332Bd3d2e6f1FE1043",
    [CHAIN.ZIRCUIT]: "0xC39161c743D0307EB9BCc9FEF03eeb9Dc4802de7",
    [CHAIN.ZORA]: "0xeDf930Cd8095548f97b21ec4E2dE5455a7382f04",
    // [CHAIN.INJECTIVE_evm]: "0x000CC1A759bC3A15e664Ed5379E321Be5de1c9B6",
    [CHAIN.OP_BNB]: "0x44289609cc6781fa2C665796b6c5AAbf9FFceDC5",
    // [CHAIN.REAL]: "0xC39161c743D0307EB9BCc9FEF03eeb9Dc4802de7",
    // [CHAIN.ZKLINK]: "0x01047601DB5E63b1574aae317BAd9C684E3C9056",
    // [CHAIN.ZKSYNC]: "0x07fD0e370B49919cA8dA0CE842B8177263c0E12c"
};

const EXECUTOR_FEE_EVENT = "event ExecutorFeePaid (address executor, uint256 fee)";
const DVN_FEE_EVENT = "event DVNFeePaid (address[] requiredDVNs, address[] optionalDVNs, uint256[] fees)"

const fetch = async (options: FetchOptions) => {
    const dailyFees = options.createBalances();
    const executorFeeLogs = await options.getLogs({
        target: LAYERZERO_SEND_ULN_CONTRACT[options.chain as keyof typeof LAYERZERO_SEND_ULN_CONTRACT],
        eventAbi: EXECUTOR_FEE_EVENT
    });
    executorFeeLogs.forEach((log: any) => {
        dailyFees.add(nullAddress, log.fee);
    });

    const dvnFeeLogs = await options.getLogs({
        target: LAYERZERO_SEND_ULN_CONTRACT[options.chain as keyof typeof LAYERZERO_SEND_ULN_CONTRACT],
        eventAbi: DVN_FEE_EVENT
    });
    for (const log of dvnFeeLogs as any[]) {
        const fees = log.fees || [];

        for (const fee of fees) {
            dailyFees.add(nullAddress, fee);
        }
    }

    return {
        dailyFees,
        dailyRevenue: 0,
        dailyProtocolRevenue: 0
    };
}

const methodology = {
    Fees: 'Message fee paid by users(Oracle fee/DVN fee, Executor fee/Relayer fee) ',
    Revenue: 'Revenue share isnt activated yet',
    ProtocolRevenye: 'Protocol fee share isnt activated yet'
};

const adapter: SimpleAdapter = {
    version: 2,
    fetch,
    chains: [
        CHAIN.ABSTRACT, CHAIN.APECHAIN, CHAIN.ARBITRUM, CHAIN.ARBITRUM_NOVA, CHAIN.ASTAR, CHAIN.AVAX, CHAIN.BSC, CHAIN.BOB, CHAIN.BAHAMUT, CHAIN.BASE, CHAIN.BERACHAIN, CHAIN.BITLAYER, CHAIN.BOTANIX, CHAIN.BLAST,
        CHAIN.CANTO, CHAIN.CELO, CHAIN.CONFLUX, CHAIN.CORE, CHAIN.CORN,
        CHAIN.CRONOS, CHAIN.CRONOS_ZKEVM,CHAIN.DEXALOT, CHAIN.FLOW, CHAIN.ETHEREUM, CHAIN.ETHERLINK, CHAIN.FANTOM, CHAIN.FLARE, CHAIN.FRAXTAL, CHAIN.FUSE, CHAIN.XDAI, CHAIN.GOAT, CHAIN.GRAVITY, CHAIN.HARMONY, CHAIN.HEDERA, CHAIN.HEMI, CHAIN.EON, CHAIN.HYPERLIQUID, CHAIN.INK, CHAIN.IOTAEVM, CHAIN.KLAYTN, CHAIN.KATANA, CHAIN.KAVA, CHAIN.LENS, CHAIN.LINEA, CHAIN.LISK, CHAIN.LYRA, CHAIN.MANTA, CHAIN.MANTLE, CHAIN.MERLIN, CHAIN.METER, CHAIN.METIS, CHAIN.MODE, CHAIN.MOONBEAM, CHAIN.MOONRIVER, CHAIN.MORPH, CHAIN.NIBIRU, CHAIN.OPTIMISM, CHAIN.ORDERLY, CHAIN.PEAQ, CHAIN.PLUME, CHAIN.POLYGON, CHAIN.POLYGON_ZKEVM, CHAIN.RARI, CHAIN.REYA, CHAIN.ROOTSTOCK, CHAIN.SANKO, CHAIN.SCROLL, CHAIN.SHIMMER_EVM, CHAIN.SOMNIA, CHAIN.SONEIUM, CHAIN.SONIC, CHAIN.SOPHON, CHAIN.STORY, CHAIN.SUPERPOSITION, CHAIN.SWELLCHAIN, CHAIN.TAC, CHAIN.TAIKO, CHAIN.UNICHAIN, CHAIN.VANA, CHAIN.WC, CHAIN.XDC, CHAIN.ZIRCUIT, CHAIN.ZORA, CHAIN.OP_BNB
    ],
    start: '2024-01-27',
    methodology,
};

export default adapter;
