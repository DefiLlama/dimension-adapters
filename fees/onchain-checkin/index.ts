import {Adapter, FetchOptions} from "../../adapters/types";
import {CHAIN} from "../../helpers/chains";

const addresses: Record<string, string> = {
    [CHAIN.SONEIUM]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.ARBITRUM]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.ABSTRACT]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.ALIENX]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.APECHAIN]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.APPCHAIN]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.ARBITRUM_NOVA]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.ASTAR]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.AURORA]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.AVAX]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.BASE]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.BERACHAIN]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.BLAST]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.BOB]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.BOTANIX]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.BSC]: "0x1e5fea6fbabd26b1ae5a29c80c3b6058b0a8e6f4",
    [CHAIN.CAMP]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.CELO]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.CONFLUX]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.CORE]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.CRONOS]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.ETHERLINK]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.FRAXTAL]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.GATE_LAYER]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.XDAI]: "0x1e5fea6fbabd26b1ae5a29c80c3b6058b0a8e6f4",
    [CHAIN.GRAVITY]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.HARMONY]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.HEMI]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.HYPERLIQUID]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.INK]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.KLAYTN]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.KATANA]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.LENS]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.LINEA]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.LISK]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.ETHEREUM]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.MANTA]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.MANTLE]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.METIS]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.MEZO]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.MINT]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.MODE]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.MONAD]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.MOONBEAM]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.MOONRIVER]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.MORPH]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.OP_BNB]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.OPTIMISM]: "0x4ec299dab4fdd9a98ca8f8eb3d7f4d9625034a80",
    [CHAIN.ORDERLY]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.PLASMA]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.PLUME]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.POLYGON]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.PULSECHAIN]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.RARI]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.REDSTONE]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.RONIN]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.SCROLL]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.SEI]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.SHAPE]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.SOMNIA]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.SONIC]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.STABLE]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.STORY]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.SUPERPOSITION]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.SSEED]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.SWELLCHAIN]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.TAIKO]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.UNICHAIN]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.WC]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.XLAYER]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.XRPL_EVM]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.ZERO]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.ZETA]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.ZIRCUIT]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.ZKSYNC]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",
    [CHAIN.ZORA]: "0x856b799345Eb20F74c1e0C5ec09ec41bEce2078c",

};

const fetch = async (_: any, _b: any, options: FetchOptions) => {
    const address = addresses[options.chain];
    const dailyFees = options.createBalances();

    const fee = await options.api.call({
        abi: "function retroFee() view returns (uint256)",
        target: address,
        params: [],
    })

    const retroCheckedInLogs = await options.getLogs({
        target: address,
        eventAbi: "event RetroCheckedIn(address indexed user, uint32 indexed day)",
    });

    retroCheckedInLogs.forEach(() => {
        dailyFees.addGasToken(fee);
    });
console.log(options.chain);
    return {dailyFees, dailyRevenue: dailyFees};
};

const adapter: Adapter = {
    fetch,
    version: 1,
    methodology: {
        Fees: "Fees paid by users for actions on On-chain Check-in",
        Revenue: "Protocol revenue, defined as the total amount of user fees collected by On-chain Check-in",
    },
    adapter: {
        [CHAIN.SONEIUM]: {start: '2025-08-25'},
        [CHAIN.ARBITRUM]: {start: '2025-08-27'},
        [CHAIN.ABSTRACT]: {start: '2025-10-24'},
        [CHAIN.ALIENX]: {start: '2025-09-25'},
        [CHAIN.APECHAIN]: {start: '2025-09-11'},
        [CHAIN.APPCHAIN]: {start: '2025-09-20'},
        [CHAIN.ARBITRUM_NOVA]: {start: '2025-09-12'},
        // [CHAIN.ASTAR]: {start: '2025-09-30'},
        [CHAIN.AURORA]: {start: '2025-09-30'},
        [CHAIN.AVAX]: {start: '2025-09-17'},
        [CHAIN.BASE]: {start: '2025-08-25'},
        [CHAIN.BERACHAIN]: {start: '2025-09-17'},
        [CHAIN.BLAST]: {start: '2025-09-24'},
        [CHAIN.BOB]: {start: '2025-08-27'},
        [CHAIN.BOTANIX]: {start: '2025-09-30'},
        // [CHAIN.BSC]: {start: '2025-09-23'},
        [CHAIN.CAMP]: {start: '2025-09-17'},
        [CHAIN.CELO]: {start: '2025-09-30'},
        // [CHAIN.CONFLUX]: {start: '2025-09-20'},
        [CHAIN.CORE]: {start: '2025-09-30'},
        [CHAIN.CRONOS]: {start: '2025-09-30'},
         [CHAIN.ETHERLINK]: {start: '2025-09-30'},
        [CHAIN.FRAXTAL]: {start: '2025-09-30'},
        [CHAIN.GATE_LAYER]: {start: '2025-10-02'},
        [CHAIN.XDAI]: {start: '2025-09-24'},
        [CHAIN.GRAVITY]: {start: '2025-09-24'},
        [CHAIN.HARMONY]: {start: '2025-09-30'},
        [CHAIN.HEMI]: {start: '2025-09-17'},
        [CHAIN.HYPERLIQUID]: {start: '2025-09-20'},
        [CHAIN.INK]: {start: '2025-08-25'},
        // [CHAIN.KLAYTN]: {start: '2025-09-18'},
        [CHAIN.KATANA]: {start: '2025-09-17'},
        [CHAIN.LENS]: {start: '2025-09-17'},
        [CHAIN.LINEA]: {start: '2025-08-27'},
        [CHAIN.LISK]: {start: '2025-08-25'},
        [CHAIN.ETHEREUM]: {start: '2025-08-27'},
        [CHAIN.MANTA]: {start: '2025-09-24'},
        [CHAIN.MANTLE]: {start: '2025-09-24'},
        [CHAIN.METIS]: {start: '2025-09-24'},
        [CHAIN.MEZO]: {start: '2025-09-20'},
        [CHAIN.MINT]: {start: '2025-08-27'},
        [CHAIN.MODE]: {start: '2025-08-25'},
        [CHAIN.MONAD]: {start: '2025-11-24'},
        [CHAIN.MOONBEAM]: {start: '2025-09-24'},
        [CHAIN.MOONRIVER]: {start: '2025-09-24'},
        [CHAIN.MORPH]: {start: '2025-09-20'},
        [CHAIN.OP_BNB]: {start: '2025-09-24'},
        [CHAIN.OPTIMISM]: {start: '2025-08-23'},
        [CHAIN.ORDERLY]: {start: '2025-09-24'},
        [CHAIN.PLASMA]: {start: '2025-09-25'},
        [CHAIN.PLUME]: {start: '2025-08-27'},
        [CHAIN.POLYGON]: {start: '2025-08-27'},
        [CHAIN.PULSECHAIN]: {start: '2025-09-30'},
        [CHAIN.RARI]: {start: '2025-09-24'},
        [CHAIN.REDSTONE]: {start: '2025-08-27'},
        [CHAIN.RONIN]: {start: '2025-08-27'},
        [CHAIN.SCROLL]: {start: '2025-09-16'},
        // [CHAIN.SEI]: {start: '2025-09-30'},
        [CHAIN.SHAPE]: {start: '2025-09-30'},
        [CHAIN.SOMNIA]: {start: '2025-09-17'},
        [CHAIN.SONIC]: {start: '2025-09-20'},
        // [CHAIN.STABLE]: {start: '2025-12-08'},
        // [CHAIN.STORY]: {start: '2025-09-17'},
        [CHAIN.SUPERPOSITION]: {start: '2025-08-27'},
        [CHAIN.SSEED]: {start: '2025-08-27'},
        [CHAIN.SWELLCHAIN]: {start: '2025-09-24'},
        [CHAIN.TAIKO]: {start: '2025-09-16'},
        [CHAIN.UNICHAIN]: {start: '2025-08-25'},
        [CHAIN.WC]: {start: '2025-08-25'},
        // [CHAIN.XLAYER]: {start: '2025-09-30'},
        [CHAIN.XRPL_EVM]: {start: '2025-09-20'},
        // [CHAIN.ZERO]: {start: '2025-09-20'},
        [CHAIN.ZETA]: {start: '2025-09-30'},
        [CHAIN.ZIRCUIT]: {start: '2025-09-24'},
        // [CHAIN.ZKSYNC]: {start: '2025-10-24'},
        [CHAIN.ZORA]: {start: '2025-09-30'},

    },
};

export default adapter;

