import { Chain } from "../../adapters/types";
import { FetchOptions, SimpleAdapter } from "../../adapters/types";
import { CHAIN } from "../../helpers/chains";
import { addTokensReceived } from "../../helpers/token";

type IContract = {
  [c: string | Chain]: string;
};

const collector: IContract = {
  [CHAIN.AURORA]: "0xB0210dE78E28e2633Ca200609D9f528c13c26cD9",
  [CHAIN.ARBITRUM]: "0xB0210dE78E28e2633Ca200609D9f528c13c26cD9",
  [CHAIN.OPTIMISM]: "0xbD6C7B0d2f68c2b7805d88388319cfB6EcB50eA9",
  [CHAIN.BASE]: "0x0A6d96E7f4D7b96CFE42185DF61E64d255c12DFf",
  [CHAIN.ETHEREUM]: "0xbD6C7B0d2f68c2b7805d88388319cfB6EcB50eA9",
  [CHAIN.AVAX]: "0xB0210dE78E28e2633Ca200609D9f528c13c26cD9",
  [CHAIN.BSC]: "0xbD6C7B0d2f68c2b7805d88388319cfB6EcB50eA9",
  [CHAIN.LINEA]: "0xA4A24BdD4608D7dFC496950850f9763B674F0DB2",
  [CHAIN.MANTLE]: "0xF048e5816B0C7951AC179f656C5B86e5a79Bd7b5",
  [CHAIN.POLYGON]: "0xbD6C7B0d2f68c2b7805d88388319cfB6EcB50eA9",
  [CHAIN.POLYGON_ZKEVM]: "0xB49EaD76FE09967D7CA0dbCeF3C3A06eb3Aa0cB4",
  [CHAIN.FANTOM]: "0xB0210dE78E28e2633Ca200609D9f528c13c26cD9",
  [CHAIN.MODE]: "0xF048e5816B0C7951AC179f656C5B86e5a79Bd7b5",
  [CHAIN.SCROLL]: "0xF048e5816B0C7951AC179f656C5B86e5a79Bd7b5",
  [CHAIN.ERA]: "0x8dBf6f59187b2EB36B980F3D8F4cFC6DC4E4642e",
  [CHAIN.METIS]: "0x27f0e36dE6B1BA8232f6c2e87E00A50731048C6B",
  [CHAIN.XDAI]: "0xbD6C7B0d2f68c2b7805d88388319cfB6EcB50eA9",
  [CHAIN.TAIKO]: "0xDd8A081efC90DFFD79940948a1528C51793C4B03",
  [CHAIN.BLAST]: "0xF048e5816B0C7951AC179f656C5B86e5a79Bd7b5",
  [CHAIN.BOBA]: "0xB0210dE78E28e2633Ca200609D9f528c13c26cD9",
  [CHAIN.FUSE]: "0xB0210dE78E28e2633Ca200609D9f528c13c26cD9",
  [CHAIN.CRONOS]: "0x11d40Dc8Ff0CE92F54A315aD8e674a55a866cBEe",
  [CHAIN.GRAVITY]: "0x79540403cdE176Ca5f1fb95bE84A7ec91fFDEF76",
  // [CHAIN.SEI]: '0x7956280Ec4B4d651C4083Ca737a1fa808b5319D8',
  // [CHAIN.ROOTSTOCK]: '0xF048e5816B0C7951AC179f656C5B86e5a79Bd7b5',
  [CHAIN.CELO]: "0xF048e5816B0C7951AC179f656C5B86e5a79Bd7b5",
  [CHAIN.EVMOS]: "0xB49EaD76FE09967D7CA0dbCeF3C3A06eb3Aa0cB4",
  [CHAIN.FRAXTAL]: "0x7956280Ec4B4d651C4083Ca737a1fa808b5319D8",
  //   [CHAIN.HARMONY]: "0xB0210dE78E28e2633Ca200609D9f528c13c26cD9",
  //   [CHAIN.IMMUTABLEX]: "0x1a4E99aB56BBac95810C0A957F173054f6FA8fDc",
  [CHAIN.LISK]: "0x50D5a8aCFAe13Dceb217E9a071F6c6Bd5bDB4155",
  [CHAIN.MOONBEAM]: "0xB0210dE78E28e2633Ca200609D9f528c13c26cD9",
  //   [CHAIN.MOONRIVER]: "0xB0210dE78E28e2633Ca200609D9f528c13c26cD9",
  [CHAIN.ARBITRUM_NOVA]: "0xB0210dE78E28e2633Ca200609D9f528c13c26cD9",
  //   [CHAIN.OKEXCHAIN]: "0xB0210dE78E28e2633Ca200609D9f528c13c26cD9",
  [CHAIN.OP_BNB]: "0x6A2420650139854F17964b8C3Bb60248470aB57E",
  [CHAIN.SONIC]: "0xaFb8cC8fCd71cd768Ce117C11eB723119FCDb1f8",
  // [CHAIN.VELAS]: "0xB0210dE78E28e2633Ca200609D9f528c13c26cD9",
  // [CHAIN.XLAYER]: "0xC69994fd72824ca98F8a0B1E2ABc954E65a91cf4",
};

const adapter: SimpleAdapter = {
  version: 2,
  adapter: Object.keys(collector).reduce((acc, chain) => {
    return {
      ...acc,
      [chain]: {
        fetch: async (options: FetchOptions) => ({
          dailyFees: await addTokensReceived({
            options,
            target: collector[options.chain],
          }),
        }),
        start: "2023-08-10",
        meta: {
          methodology: {
            Fees: 'All fees paid by users for swap and bridge tokens via Jumper Exchange.',
            Revenue: 'All fees are distributed to Jumper Exchange.',
            ProtocolRevenue: 'All fees are distributed to Jumper Exchange.',
          }
        }
      },
    };
  }, {}),
};

export default adapter;
